NothFlows/Code/
â”‚
â”œâ”€â”€ ğŸ“± Application Entry
â”‚   â””â”€â”€ lib/main.dart                           Entry point, splash screen, theme setup
â”‚
â”œâ”€â”€ ğŸ¨ UI Layer (Screens)
â”‚   â”œâ”€â”€ lib/screens/home_screen.dart            Mode cards grid, toggle switches
â”‚   â”œâ”€â”€ lib/screens/mode_detail_screen.dart     Flow management, NL input field
â”‚   â”œâ”€â”€ lib/screens/flow_preview_sheet.dart     DSL preview modal
â”‚   â””â”€â”€ lib/screens/results_sheet.dart          Execution results display
â”‚
â”œâ”€â”€ ğŸ§© UI Layer (Widgets)
â”‚   â”œâ”€â”€ lib/widgets/glass_panel.dart            Glassmorphic container component
â”‚   â”œâ”€â”€ lib/widgets/mode_card.dart              Mode display card with stats
â”‚   â””â”€â”€ lib/widgets/flow_tile.dart              Flow list item with actions
â”‚
â”œâ”€â”€ ğŸ“Š Data Layer (Models)
â”‚   â”œâ”€â”€ lib/models/flow_dsl.dart                DSL schema, validation, parsing
â”‚   â””â”€â”€ lib/models/mode_model.dart              Mode structure, defaults
â”‚
â”œâ”€â”€ âš™ï¸ Business Logic (Services)
â”‚   â”œâ”€â”€ lib/services/cactus_llm_service.dart    Qwen3 integration, NLâ†’DSL parsing
â”‚   â”œâ”€â”€ lib/services/storage_service.dart       SharedPreferences wrapper
â”‚   â””â”€â”€ lib/services/automation_executor.dart   Flow execution, Android APIs
â”‚
â”œâ”€â”€ ğŸ¤– Platform Layer
â”‚   â””â”€â”€ android/app/src/main/
â”‚       â””â”€â”€ AndroidManifest.xml                 Permissions, app config
â”‚
â”œâ”€â”€ ğŸ“¦ Configuration
â”‚   â”œâ”€â”€ pubspec.yaml                            Dependencies, assets
â”‚   â”œâ”€â”€ analysis_options.yaml                   Linter rules
â”‚   â””â”€â”€ .gitignore                              Git exclusions
â”‚
â””â”€â”€ ğŸ“š Documentation
    â”œâ”€â”€ README.md                               Main docs, setup guide
    â”œâ”€â”€ ARCHITECTURE.md                         Technical deep dive
    â”œâ”€â”€ DSL_REFERENCE.md                        DSL format guide
    â”œâ”€â”€ PROJECT_SUMMARY.md                      Project overview
    â””â”€â”€ FOLDER_TREE.txt                         This file

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š PROJECT STATISTICS

Total Dart Files:          13
Total Documentation:       5
Total Configuration:       3
Lines of Code:            ~2,500

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ CORE COMPONENTS BREAKDOWN

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. MODELS (Data Structures)                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ FlowDSL          - JSON schema with validation                       â”‚
â”‚ â€¢ ModeModel        - Mode configuration + flows                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. SERVICES (Business Logic)                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ CactusLLMService - Qwen3 600M, parseInstruction()                    â”‚
â”‚ â€¢ StorageService   - CRUD for modes/flows                              â”‚
â”‚ â€¢ AutomationExecutor - 10 action types, permissions                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. SCREENS (Full Views)                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ HomeScreen       - 3 mode cards, toggle switches                     â”‚
â”‚ â€¢ ModeDetailScreen - NL input, example chips, flow list                â”‚
â”‚ â€¢ FlowPreviewSheet - DSL visualization, confirm/cancel                 â”‚
â”‚ â€¢ ResultsSheet     - Execution status, success/error                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. WIDGETS (Reusable Components)                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ GlassPanel       - Glassmorphic container w/ blur                    â”‚
â”‚ â€¢ ModeCard         - Icon, name, description, toggle                   â”‚
â”‚ â€¢ FlowTile         - Action preview, delete button                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”„ DATA FLOW

User Input (Natural Language)
    â†“
ModeDetailScreen
    â†“
CactusLLMService.parseInstruction()
    â†“
Qwen3 Model (Local Inference)
    â†“
FlowDSL (Validated JSON)
    â†“
FlowPreviewSheet (User Confirms)
    â†“
StorageService.addFlowToMode()
    â†“
SharedPreferences (Persisted)

Mode Toggle
    â†“
HomeScreen._toggleMode()
    â†“
AutomationExecutor.executeFlow()
    â†“
Android Platform APIs
    â†“
ExecutionResult
    â†“
ResultsSheet (Display)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¨ UI COMPONENT HIERARCHY

MaterialApp
â””â”€â”€ SplashScreen (Initial)
    â””â”€â”€ HomeScreen
        â”œâ”€â”€ ModeCard Ã— 3
        â”‚   â”œâ”€â”€ Icon + Container
        â”‚   â”œâ”€â”€ Text (Name, Description)
        â”‚   â””â”€â”€ Switch (Toggle)
        â”‚
        â””â”€â”€ FloatingActionButton (Settings)

ModeDetailScreen
â”œâ”€â”€ Header (Back, Icon, Title)
â”œâ”€â”€ GlassPanel (Input Section)
â”‚   â””â”€â”€ TextField + Submit Button
â”œâ”€â”€ Example Chips (Wrap)
â””â”€â”€ FlowTile Ã— N
    â”œâ”€â”€ Icon + Number
    â”œâ”€â”€ Description Text
    â””â”€â”€ Delete Button

FlowPreviewSheet
â”œâ”€â”€ Header (Icon, Title)
â”œâ”€â”€ GlassPanel (Trigger)
â””â”€â”€ GlassPanel Ã— N (Actions)
    â”œâ”€â”€ Step Number
    â”œâ”€â”€ Action Icon
    â””â”€â”€ Description

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš¡ CACTUS SDK CONFIGURATION

Model:             Qwen3 600M
Quantisation:      Q4_0 (75% size reduction)
Context Length:    2048 tokens
Threads:           4 (optimised for mobile)
Temperature:       0.3 (consistent JSON output)
Local Only:        true (no cloud fallback)
Cache Dir:         App files directory
Stop Sequences:    ['}']

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ SUPPORTED ACTIONS (10 Total)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Action Type             â”‚ Parameters                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ clean_screenshots       â”‚ older_than_days: number                      â”‚
â”‚ clean_downloads         â”‚ older_than_days: number                      â”‚
â”‚ mute_apps               â”‚ apps: string[]                               â”‚
â”‚ lower_brightness        â”‚ to: number (0-100)                           â”‚
â”‚ set_volume              â”‚ level: number (0-100)                        â”‚
â”‚ enable_dnd              â”‚ (no params)                                  â”‚
â”‚ disable_wifi            â”‚ (no params)                                  â”‚
â”‚ disable_bluetooth       â”‚ (no params)                                  â”‚
â”‚ set_wallpaper           â”‚ path: string                                 â”‚
â”‚ launch_app              â”‚ app: string                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“± ANDROID PERMISSIONS

Required:
â€¢ MANAGE_EXTERNAL_STORAGE    - File cleanup actions
â€¢ WRITE_SETTINGS              - Brightness control
â€¢ INTERNET                    - Model download (first run)

Optional (for future features):
â€¢ BIND_NOTIFICATION_LISTENER_SERVICE - App muting
â€¢ WRITE_SECURE_SETTINGS               - DND, Wi-Fi, Bluetooth

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ BUILD COMMANDS

Development:
$ flutter run

Release Build:
$ flutter build apk --release

Split by ABI (smaller):
$ flutter build apk --split-per-abi

Install Dependencies:
$ flutter pub get

Run Tests:
$ flutter test

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… PROJECT STATUS: COMPLETE & READY TO BUILD

All deliverables met:
  âœ“ Flutter project structure
  âœ“ Cactus SDK integration (Qwen3 600M)
  âœ“ DSL schema with validation
  âœ“ System prompt for LLM
  âœ“ Home screen with mode cards
  âœ“ Mode detail screen with flow management
  âœ“ Flow preview bottom sheet
  âœ“ Automation executor (10 actions)
  âœ“ Local storage (SharedPreferences)

Next step: flutter run --release

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
